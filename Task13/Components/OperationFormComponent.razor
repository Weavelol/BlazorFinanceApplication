@using Core.Models
@using Services.DTO
@using Services.Interfaces
@inject IOperationTypesService OperationTypesService

<EditForm Model="@Operation">
    <div class="form-group">
        <label for="Name">Name</label>
        <InputText @bind-Value=Operation.Name class="form-control" id="Name" />
    </div>
    <div class="form-group">
        <label for="Type">Operation Type</label>
        <InputSelect @bind-Value="Operation.OperationTypeId" class="form-control" id="Type">
            @foreach (var operationType in OperationTypes) {
                <option value="@operationType.Id">@operationType.Name</option>
            }
        </InputSelect>
    </div>
    <div class="form-group">
        <label for="Amount">Amount</label>
        <InputNumber @bind-Value="Operation.Amount" class="form-control" id="Amount" />
    </div>
    <div class="form-group">
        <label for="Date">Date</label>
        <InputDate @bind-Value="Operation.Date" class="form-control" id="Date" />
    </div>
</EditForm>

@code {
    private List<OperationType> OperationTypes = new List<OperationType>();

    [Parameter]
    public OperationCreateDTO Operation { get; set; }



    protected override async Task OnInitializedAsync() {
        OperationTypes = await OperationTypesService.GetAllAsync();
    }
}
